/*
THIS IS A GENERATED/BUNDLED FILE BY ESBUILD
if you want to view the source, please visit the github repository of this plugin
*/

var t=Object.defineProperty;var S=Object.getOwnPropertyDescriptor;var a=Object.getOwnPropertyNames;var d=Object.prototype.hasOwnProperty;var p=(e,o)=>{for(var s in o)t(e,s,{get:o[s],enumerable:!0})},v=(e,o,s,n)=>{if(o&&typeof o=="object"||typeof o=="function")for(let l of a(o))!d.call(e,l)&&l!==s&&t(e,l,{get:()=>o[l],enumerable:!(n=S(o,l))||n.enumerable});return e};var w=e=>v(t({},"__esModule",{value:!0}),e);var f={};p(f,{default:()=>r});module.exports=w(f);var c=require("obsidian"),i=require("ws"),r=class extends c.Plugin{constructor(){super(...arguments);this.wss=null}async onload(){this.wss=new i.WebSocketServer({port:12345}),console.log("WS Server \u0437\u0430\u043F\u0443\u0449\u0435\u043D\u043E \u043D\u0430 \u043F\u043E\u0440\u0442\u0443 12345"),this.wss.on("connection",s=>{console.log("\u041D\u043E\u0432\u0438\u0439 \u043A\u043B\u0456\u0454\u043D\u0442 \u043F\u0456\u0434\u043A\u043B\u044E\u0447\u0435\u043D\u043E"),s.on("message",n=>{console.log(`\u041E\u0442\u0440\u0438\u043C\u0430\u043D\u043E: ${n}`),s.send(`\u0412\u0456\u0434\u043F\u043E\u0432\u0456\u0434\u044C: ${n}`)})})}async onunload(){this.wss&&(this.wss.close(),console.log("WS Server \u0437\u0443\u043F\u0438\u043D\u0435\u043D\u043E"))}};
